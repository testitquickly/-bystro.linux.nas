Content-Type: text/x-zim-wiki
Wiki-Format: zim 0.6
Creation-Date: 2022-03-16T21:21:14+02:00

====== NAS ======

Установка и настройка Network Attached Storage (NAS) на примере Debian „OpenMediaVault”.

===== О сборке NAS =====

Единственно правильного подхода для сборки NAS нет. Сегодня мой NAS безупречно работает на «refurbished» сервере, и мне норм. Завтра — посмотрим.

NAS можно собрать на мощном новом компьютере, на хрипящем старом компьютере или на маленьком „Raspberry”. Можно взять готовое решение от Synology, QNAP, NetGear или HP.

Можно «поднять» усечённый и маленький, но всё-таки NAS на современном роутере, на борту которого встроены Samba-сервер, VPN-сервер, брандмауер, торренты и медиа-сервер (DLNA) — базово вся функциональность NAS за €200.

===== Установка и настройка =====

==== Установка OMV ====
Установить OMV
Обновить OMV
Базовая настройка сервера (omv-firstaid)
Проверить доступ к OMV из браузера
Настроить OMV через веб-интерфейс
Настройка роутера

===== HDD =====
Как добавить диски
Как зашифровать диски
Как сделать RAID-массив

===== Users =====
Сделать “User home directory”
Добавить пользователей

===== SSH =====
Сделать «под ключ»свой ssh-ключ
Как передавать файлы по ssh

===== SMB =====
Включить сервер SMB/CIFS
Сделать новый каталог
Расшарить каталог по Samba
Удалить share-каталог

===== Android =====
Подключение к NAS со смартфона

===== RSycn =====
Определить каталоги для синхронизации
Собрать скрипт синхронизации
Снять файлы с OMV на usb
Синкануть файлы между серверами

===== Плагины OMV =====
Установить omv-extras

===== DLNA =====
Установка “JellyFin” на Debian
Установка “JellyFin” на NAS

===== Docker =====
Установить Docker
Установить из OMV “Docker”
Установить из OMV “Portainer”
Установить из OMV “Cockpit”

===== Transmission =====

===== VPN =====

===== SSL =====

===== Firewall =====
Настроить firewall

===== FTP =====
Включить FTP

===== Wake-on-LAN =====
WoL с ноутбука
WoL со смартфона
Автоматическое отключение NAS

===== ИБП =====
Определить мощность питания NAS
Определить верхнюю границу потребляемой мощности 
Выбрать ИБП для покрытия расчитанной мощности
Как управлять ИБП из OMV

===== Apache и PHP =====
Install Apache
Install MariaDB

===== Бэкапы =====

===== Защита NAS =====

===== Приложения =====
Про рулезность консоли Debian
Как сделать алиас вbashrc
Как сделать симлинк в /usr/local/bin на исполняемый sh-файл
Как добавить команду в меню приложений
Как закинуть файлы по ftp через wget
Про установку Docker в Debian 11 (bullseye)
Узнать версию Debian
Убрать любые предыдущие версии Docker
Добавить Docker-ключ GPG
Добавить репозиторий Docker в sources.list
Установить stable Docker
Удаление Docker
Про фэйл с DockerStarter - Не надо ставить в OMV “Dockstarter”90
